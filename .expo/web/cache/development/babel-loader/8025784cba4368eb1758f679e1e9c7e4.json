{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nimport _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nvar _excluded = [\"headerForceInset\"],\n    _excluded2 = [\"gesturesEnabled\"],\n    _excluded3 = [\"header\"];\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nvar shownWarnings = [];\nvar validations = [{\n  check: function check(o) {\n    return typeof o.headerForceInset === 'object';\n  },\n  deprecated: 'headerForceInset',\n  updated: 'safeAreaInsets',\n  compat: function compat(o) {\n    var headerForceInset = o.headerForceInset,\n        rest = _objectWithoutProperties(o, _excluded);\n\n    var safeAreaInsets = {\n      top: 0,\n      bottom: 0,\n      left: 0,\n      right: 0\n    };\n\n    switch (headerForceInset) {\n      case 'top':\n        delete safeAreaInsets.top;\n        break;\n\n      case 'bottom':\n        delete safeAreaInsets.bottom;\n        break;\n\n      case 'left':\n        delete safeAreaInsets.left;\n        break;\n\n      case 'right':\n        delete safeAreaInsets.right;\n        break;\n\n      case 'vertical':\n        delete safeAreaInsets.top;\n        delete safeAreaInsets.bottom;\n        break;\n\n      case 'horizontal':\n        delete safeAreaInsets.left;\n        delete safeAreaInsets.right;\n        break;\n\n      case 'always':\n        safeAreaInsets = undefined;\n        break;\n    }\n\n    return _objectSpread(_objectSpread({}, rest), {}, {\n      safeAreaInsets: safeAreaInsets\n    });\n  }\n}, {\n  check: function check(o) {\n    return o.gesturesEnabled !== undefined;\n  },\n  deprecated: 'gesturesEnabled',\n  updated: 'gestureEnabled',\n  compat: function compat(o) {\n    var gesturesEnabled = o.gesturesEnabled,\n        rest = _objectWithoutProperties(o, _excluded2);\n\n    return _objectSpread(_objectSpread({}, rest), {}, {\n      gestureEnabled: gesturesEnabled\n    });\n  }\n}, {\n  check: function check(o) {\n    return o.header === null;\n  },\n  deprecated: 'header: null',\n  updated: 'headerShown: false',\n  compat: function compat(o) {\n    var header = o.header,\n        rest = _objectWithoutProperties(o, _excluded3);\n\n    return _objectSpread(_objectSpread({}, rest), {}, {\n      headerShown: false\n    });\n  }\n}, {\n  check: function check(o) {\n    return o.header != null && typeof o.header !== 'function';\n  },\n  deprecated: 'header: <SomeElement />',\n  updated: 'header: () => <SomeElement />',\n  compat: function compat(o) {\n    return _objectSpread(_objectSpread({}, o), {}, {\n      header: function header() {\n        return o.header;\n      }\n    });\n  }\n}, {\n  check: function check(o) {\n    return o.headerTitle !== undefined && typeof o.headerTitle !== 'string' && typeof o.headerTitle !== 'function';\n  },\n  deprecated: 'headerTitle: <SomeElement />',\n  updated: 'headerTitle: () => <SomeElement />',\n  compat: function compat(o) {\n    return _objectSpread(_objectSpread({}, o), {}, {\n      headerTitle: function headerTitle() {\n        return o.headerTitle;\n      }\n    });\n  }\n}].concat(_toConsumableArray(['headerLeft', 'headerRight', 'headerBackground', 'headerBackImage'].map(function (p) {\n  return {\n    check: function check(o) {\n      return o[p] !== undefined && typeof o[p] !== 'function';\n    },\n    deprecated: \"\".concat(p, \": <SomeElement />\"),\n    updated: \"\".concat(p, \": () => <SomeElement />\"),\n    compat: function compat(o) {\n      return _objectSpread(_objectSpread({}, o), {}, _defineProperty({}, p, function () {\n        return o[p];\n      }));\n    }\n  };\n})));\nexport default function validateDeprecatedOptions(options) {\n  var result = options;\n  var warnings = [];\n  validations.forEach(function (v) {\n    if (v.check(options)) {\n      result = v.compat(result);\n\n      if (process.env.NODE_ENV !== 'production') {\n        if (shownWarnings.includes(v.deprecated)) {\n          return;\n        }\n\n        warnings.push(v);\n        shownWarnings.push(v.deprecated);\n      }\n    }\n  });\n\n  if (warnings.length) {\n    console.warn(\"Deprecation in 'navigationOptions':\\n\".concat(warnings.map(function (v) {\n      return \"- '\".concat(v.deprecated, \"' will be removed in a future version. Use '\").concat(v.updated, \"' instead\");\n    }).join('\\n')));\n  }\n\n  return result;\n}","map":{"version":3,"sources":["validateDeprecatedOptions.tsx"],"names":["shownWarnings","validations","check","o","deprecated","updated","compat","rest","safeAreaInsets","top","bottom","left","right","gestureEnabled","gesturesEnabled","headerShown","header","headerTitle","p","result","warnings","v","process","console"],"mappings":"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","sourcesContent":["import type { EdgeInsets } from 'react-native-safe-area-context';\nimport type { StackNavigationOptions } from '../vendor/types';\n\ntype Validation = {\n  check: (o: Record<string, any>) => boolean;\n  deprecated: string;\n  updated: string;\n  compat: (o: Record<string, any>) => StackNavigationOptions;\n};\n\nconst shownWarnings: string[] = [];\n\nconst validations: Validation[] = [\n  {\n    check: (o) => typeof o.headerForceInset === 'object',\n    deprecated: 'headerForceInset',\n    updated: 'safeAreaInsets',\n    compat: (o) => {\n      const { headerForceInset, ...rest } = o;\n\n      let safeAreaInsets: Partial<EdgeInsets> | undefined = {\n        top: 0,\n        bottom: 0,\n        left: 0,\n        right: 0,\n      };\n\n      switch (headerForceInset) {\n        case 'top':\n          delete safeAreaInsets.top;\n          break;\n        case 'bottom':\n          delete safeAreaInsets.bottom;\n          break;\n        case 'left':\n          delete safeAreaInsets.left;\n          break;\n        case 'right':\n          delete safeAreaInsets.right;\n          break;\n        case 'vertical':\n          delete safeAreaInsets.top;\n          delete safeAreaInsets.bottom;\n          break;\n        case 'horizontal':\n          delete safeAreaInsets.left;\n          delete safeAreaInsets.right;\n          break;\n        case 'always':\n          safeAreaInsets = undefined;\n          break;\n      }\n\n      return { ...rest, safeAreaInsets };\n    },\n  },\n  {\n    check: (o) => o.gesturesEnabled !== undefined,\n    deprecated: 'gesturesEnabled',\n    updated: 'gestureEnabled',\n    compat: (o) => {\n      const { gesturesEnabled, ...rest } = o;\n\n      return { ...rest, gestureEnabled: gesturesEnabled };\n    },\n  },\n  {\n    check: (o) => o.header === null,\n    deprecated: 'header: null',\n    updated: 'headerShown: false',\n    compat: (o) => {\n      // eslint-disable-next-line @typescript-eslint/no-unused-vars\n      const { header, ...rest } = o;\n\n      return { ...rest, headerShown: false };\n    },\n  },\n  {\n    check: (o) => o.header != null && typeof o.header !== 'function',\n    deprecated: 'header: <SomeElement />',\n    updated: 'header: () => <SomeElement />',\n    compat: (o) => ({ ...o, header: () => o.header }),\n  },\n  {\n    check: (o) =>\n      o.headerTitle !== undefined &&\n      typeof o.headerTitle !== 'string' &&\n      typeof o.headerTitle !== 'function',\n    deprecated: 'headerTitle: <SomeElement />',\n    updated: 'headerTitle: () => <SomeElement />',\n    compat: (o) => ({ ...o, headerTitle: () => o.headerTitle }),\n  },\n  ...['headerLeft', 'headerRight', 'headerBackground', 'headerBackImage'].map(\n    (p): Validation => ({\n      check: (o: any) => o[p] !== undefined && typeof o[p] !== 'function',\n      deprecated: `${p}: <SomeElement />`,\n      updated: `${p}: () => <SomeElement />`,\n      compat: (o) => ({ ...o, [p]: () => o[p] }),\n    })\n  ),\n];\n\nexport default function validateDeprecatedOptions(\n  options: StackNavigationOptions\n) {\n  let result = options;\n\n  const warnings: Validation[] = [];\n\n  // Validate options to show warnings for deprecations\n  validations.forEach((v) => {\n    if (v.check(options)) {\n      result = v.compat(result);\n\n      if (process.env.NODE_ENV !== 'production') {\n        if (shownWarnings.includes(v.deprecated)) {\n          return;\n        }\n\n        warnings.push(v);\n        shownWarnings.push(v.deprecated);\n      }\n    }\n  });\n\n  if (warnings.length) {\n    console.warn(\n      `Deprecation in 'navigationOptions':\\n${warnings\n        .map(\n          (v) =>\n            `- '${v.deprecated}' will be removed in a future version. Use '${v.updated}' instead`\n        )\n        .join('\\n')}`\n    );\n  }\n\n  return result;\n}\n"]},"metadata":{},"sourceType":"module"}